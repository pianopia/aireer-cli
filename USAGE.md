# aireer-cli 総合利用ガイド

aireer-cliは、AIによる完全自律型サービス「aireer」を操作するためのコマンドラインツールです。思考ルーチンを構造化し、並列実行やスケジュール実行を可能にすることで、タスクの自動化を実現します。

このガイドでは、ツールのインストールから基本的な使い方、高度な機能までを網羅的に解説します。

---

## 目次

1.  [インストール](#インストール)
2.  [初期設定](#初期設定)
    - [アカウント作成](#アカウント作成)
    - [ログイン](#ログイン)
3.  [クイックスタート](#クイックスタート)
4.  [主な機能](#主な機能)
    - [思考ルーチンとは？](#思考ルーチンとは)
    - [自律モードでの実行](#自律モードでの実行)
    - [思考ルーチンの管理](#思考ルーチンの管理)
    - [実行履歴と統計](#実行履歴と統計)
5.  [思考テンプレート](#思考テンプレート)
    - [分析思考テンプレート](#分析思考テンプレート)
    - [創造思考テンプレート](#創造思考テンプレート)
    - [意思決定テンプレート](#意思決定テンプレート)
    - [問題解決テンプレート](#問題解決テンプレート)
6.  [コマンドリファレンス](#コマンドリファレンス)
7.  [設定](#設定)
    - [LLMモードの設定](#llmモードの設定)
    - [Gemini APIの直接利用](#gemini-apiの直接利用)
8.  [トラブルシューティング](#トラブルシューティング)

---

## 1. インストール

aireer-cliを利用するには、Node.js 18.0.0以上が必要です。

```bash
# 最新バージョンをインストール
npm install -g @pianopia/aireer-cli

# 特定のバージョンをインストール
npm install -g @pianopia/aireer-cli@1.0.0
```

## 2. 初期設定

インストール後、最初にアカウントの作成とログインを行います。

### アカウント作成

```bash
aireer register
```
プロンプトに従って、メールアドレスとパスワードを登録してください。

### ログイン

```bash
aireer login
```
登録した認証情報でログインします。認証トークンはローカルに保存され、コマンド実行時に自動的に使用されます。

## 3. クイックスタート

ログイン後、すぐに思考ルーチンを作成して自律モードで実行できます。

**ステップ1: 思考ルーチンを対話形式で作成**
```bash
aireer routine create
```
このコマンドを実行すると、ルーチンの名前、説明、使用するテンプレートなどを対話形式で設定できます。

**ステップ2: 自律モードで実行**
```bash
aireer autonomous
```
このコマンドを実行すると、アクティブ化された思考ルーチンが優先度に基づいて自動的に実行されます。

## 4. 主な機能

### 思考ルーチンとは？

思考ルーチンは、あなたの思考パターンやタスクの手順を構造化したものです。例えば、「毎朝の市場分析」や「週次のレポート作成」といった定型的なタスクをステップに分解し、AIが自動実行できる形式で登録します。

各ルーチンは、一つ以上の「思考ステップ」で構成され、AIはこれに従って思考やアクションを自動で実行します。

### 自律モードでの実行

aireer-cliの最も強力な機能です。登録された思考ルーチンをAIが自律的に実行します。

```bash
aireer autonomous
```
自律モードは以下の流れで動作します。
1.  **ルーチンの取得**: アクティブな状態の思考ルーチンを全て取得します。
2.  **優先度管理**: 各ルーチンの優先度や重みに基づいて、実行順序を決定します。
3.  **自動実行**: LLM（大規模言語モデル）がルーチンの内容を解釈し、ステップごとにタスクを遂行します。
4.  **結果記録**: 実行結果（成功/失敗）、生成されたテキスト、ファイル操作などを詳細に記録します。

### 思考ルーチンの管理

思考ルーチンを作成、確認、削除するためのコマンドです。

- **ルーチンの一覧表示**
  ```bash
  aireer routine list
  ```

- **ルーチンの作成（非対話モード）**
  ```bash
  aireer routine create --name "日次分析" --template analysis --description "毎日のデータ分析を実行する" -y
  ```

- **ルーチンの削除**
  ```bash
  aireer routine delete <ルーチンID> -y
  ```
  `-y`フラグを付けると、確認プロンプトなしで削除します。

### 実行履歴と統計

- **実行履歴の表示**
  ```bash
  # 最新20件の実行履歴を表示
  aireer routine history

  # 特定のルーチンの履歴のみ表示
  aireer routine history --routine-id <ルーチンID>
  ```

- **実行統計の表示**
  ```bash
  # 過去7日間の統計情報を表示
  aireer routine stats
  ```

## 5. 思考テンプレート

ルーチン作成時に、目的に応じたテンプレートを選択することで、効率的に思考プロセスを構造化できます。

### 分析思考テンプレート
問題や状況を構造化して分析するためのテンプレートです。
- **適用場面**: ビジネス分析、問題の原因調査、データ分析など。

### 創造思考テンプレート
アイデア発想とブレインストーミングを支援するテンプレートです。
- **適用場面**: 新商品企画、クリエイティブな問題解決、イノベーション創出など。

### 意思決定テンプレート
選択肢を評価して最適な決定を行うためのテンプレートです。
- **適用場面**: 戦略的意思決定、投資判断、技術選択など。

### 問題解決テンプレート
課題特定から解決まで体系的にアプローチするテンプレートです。
- **適用場面**: トラブルシューティング、プロセス改善、システム障害対応など。

## 6. コマンドリファレンス

| コマンド | 説明 |
|---|---|
| `aireer register` | 新規アカウントを作成します。 |
| `aireer login` | ログインします。 |
| `aireer logout` | ログアウトします。 |
| `aireer autonomous` | 自律モードを実行します。 |
| `aireer routine create` | 新しい思考ルーチンを作成します。 |
| `aireer routine list` | 登録済みの思考ルーチン一覧を表示します。 |
| `aireer routine delete <id>` | 指定した思考ルーチンを削除します。 |
| `aireer routine history` | 実行履歴を表示します。 |
| `aireer routine stats` | 実行統計を表示します。 |
| `aireer config` | 設定を表示・変更します。 |

## 7. 設定

### LLMモードの設定

aireer-cliは、バックエンドAPI経由でLLMを利用する方法と、ユーザー自身のGemini APIキーで直接LLMを利用する方法を選択できます。

```bash
# 現在の設定を確認
aireer config

# LLMモードをAPI経由に設定（デフォルト）
aireer config --llm-mode api

# LLMモードをGemini API直接利用に設定
aireer config --llm-mode gemini-direct
```

### Gemini APIの直接利用

`gemini-direct`モードを利用する場合、APIキーの設定が必要です。

```bash
# Gemini APIのセットアップガイドを表示
aireer config --gemini-guide

# Gemini APIキーを設定
aireer config --gemini-key YOUR_API_KEY

# Gemini APIへの接続をテスト
aireer config --gemini-test
```

## 8. トラブルシューティング

- **認証エラー**: `aireer login` コマンドで再度ログインしてください。
- **API接続エラー**: ネットワーク接続を確認するか、aireerのサービス状態を確認してください。
- **コマンドが動作しない**: `npm install -g @pianopia/aireer-cli` で最新バージョンに更新してみてください。
